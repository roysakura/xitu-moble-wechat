{"version":3,"sources":["webpack:///static/js/29.6149ca885b1ae06c7f6f.js","webpack:///./src/components/tiezi/WriteComent.vue","webpack:///./src/api/api.js?3fd9**************************","webpack:///./src/utils/filterScript.js?03a5****","webpack:///WriteComent.vue","webpack:///./src/components/tiezi/WriteComent.vue?21a0"],"names":["webpackJsonp","153","module","exports","__webpack_require__","injectStyle","ssrContext","Component","169","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","factory","undefined","apply","this","Object","defineProperty","value","default","GETCODE","REG","LOGIN","TOKENVERIFY","RESETCODE","RERESTPASSWORD","NEWS","ARTICLES","CATEGORYS","ARTICLESDETAIL","COMMENTNEWS","COLLECTIONS","NEWSVIEW","NEWSZAN","COMMENTREPLY","NEWSCOMMENTINFOS","REPLYTOREPLY","JUBAONEWS","ONECOMMENTS","USERINFOS","USERPLOADSINFOS","UPLOADAVATORINFOS","TAGS","MYTIEZI","ADS","SUGGESTBACK","USERCOMMENTS","USERJIFEN","TOPBANNER","FILES","FILESDETAIL","SEARCH","SEARCHCATEGORY","SIGN","AllLook","177","scriptObj","str","test","345","$","_api","_filterScript","_interopRequireDefault","obj","__esModule","_api2","_filterScript2","data","isAble","feedContent","articleId","mounted","contentBox","focus","feedBtn","_this","changeBtnBg","$route","params","id","methods","sendMsg","showMsg","commitComment","$http","post","content","article_id","status","then","res","history","back","$store","dispatch","err","$toast","message","duration","goPrePage","window","go","setBackGround","ele","bg","color","border","css","background","document","on","val","length","call","425","506","render","_vm","_h","$createElement","_c","_self","staticClass","click","$event","_v","attrs","disabled","directives","name","rawName","expression","placeholder","cols","rows","domProps","input","target","composing","staticRenderFns"],"mappings":"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","file":"static/js/29.6149ca885b1ae06c7f6f.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ 153:\n/* no static exports found */\n/* all exports used */\n/*!**********************************************!*\\\n  !*** ./src/components/tiezi/WriteComent.vue ***!\n  \\**********************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(/*! !../../../~/_extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!vue-style-loader!css-loader?{\"minimize\":true,\"sourceMap\":true}!../../../~/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index?{\"vue\":true,\"id\":\"data-v-31a14e41\",\"scoped\":true,\"hasInlineConfig\":true}!../../../~/_vue-loader@12.2.1@vue-loader/lib/selector?type=styles&index=0!./WriteComent.vue */ 425)\n}\nvar Component = __webpack_require__(/*! ../../../~/_vue-loader@12.2.1@vue-loader/lib/component-normalizer */ 39)(\n  /* script */\n  __webpack_require__(/*! !babel-loader!../../../~/_vue-loader@12.2.1@vue-loader/lib/selector?type=script&index=0!./WriteComent.vue */ 345),\n  /* template */\n  __webpack_require__(/*! !../../../~/_vue-loader@12.2.1@vue-loader/lib/template-compiler/index?{\"id\":\"data-v-31a14e41\"}!../../../~/_vue-loader@12.2.1@vue-loader/lib/selector?type=template&index=0!./WriteComent.vue */ 506),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-31a14e41\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 169:\n/* no static exports found */\n/* all exports used */\n/*!************************!*\\\n  !*** ./src/api/api.js ***!\n  \\************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports);\n        global.api = mod.exports;\n    }\n})(this, function (exports) {\n    \"use strict\";\n\n    (function (global, factory) {\n        if (true) {\n            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else if (typeof exports !== \"undefined\") {\n            factory(exports);\n        } else {\n            var mod = {\n                exports: {}\n            };\n            factory(mod.exports);\n            global.api = mod.exports;\n        }\n    })(undefined, function (exports) {\n        'use strict';\n\n        Object.defineProperty(exports, \"__esModule\", {\n            value: true\n        });\n        exports.default = {\n            GETCODE: '/sendcode/',\n\n            REG: '/signup/',\n\n            LOGIN: '/api-token-auth/',\n\n            TOKENVERIFY: '/api-token-verify/',\n\n            RESETCODE: '/requestPasswordResetBySmsCode/',\n\n            RERESTPASSWORD: '/passwordrest/',\n\n            NEWS: '/api1.0/articles/',\n\n            ARTICLES: '/api1.0/articles/',\n\n            CATEGORYS: '/api1.0/categorys/',\n\n            ARTICLESDETAIL: '/api1.0/articles/',\n\n            COMMENTNEWS: '/api1.0/comments/',\n\n            COLLECTIONS: '/api1.0/collections/',\n\n            NEWSVIEW: '/api1.0/views/',\n\n            NEWSZAN: '/api1.0/likes/',\n\n            COMMENTREPLY: '/api1.0/replys/',\n\n            NEWSCOMMENTINFOS: '/api1.0/articles',\n\n            REPLYTOREPLY: '/api1.0/replys/',\n\n            JUBAONEWS: '/api1.0/informs/',\n\n            ONECOMMENTS: '/api1.0/articles',\n\n            USERINFOS: '/api1.0/profiles/',\n\n            USERPLOADSINFOS: '/api1.0/profiles/',\n\n            UPLOADAVATORINFOS: '/api1.0/profiles/',\n\n            TAGS: '/api1.0/tags/',\n\n            MYTIEZI: '/api1.0/users/',\n\n            ADS: '/api1.0/ads/',\n\n            SUGGESTBACK: '/api1.0/suggestions/',\n\n            USERCOMMENTS: '/api1.0/usercomments/',\n\n            USERJIFEN: '/api1.0/credititems/',\n\n            TOPBANNER: '/api1.0/articleranks/',\n\n            FILES: '/api1.0/files/',\n\n            FILESDETAIL: '/api1.0/filecredits/',\n\n            SEARCH: 'api1.0/search/',\n\n            SEARCHCATEGORY: 'api1.0/search/lists/',\n\n            SIGN: \"/api1.0/signatures/\",\n\n            AllLook: \"api1.0/articleorders/\"\n        };\n    });\n});\n\n/***/ }),\n\n/***/ 177:\n/* no static exports found */\n/* all exports used */\n/*!***********************************!*\\\n  !*** ./src/utils/filterScript.js ***!\n  \\***********************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.filterScript = mod.exports;\n  }\n})(this, function (exports) {\n  \"use strict\";\n\n  (function (global, factory) {\n    if (true) {\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n      factory(exports);\n    } else {\n      var mod = {\n        exports: {}\n      };\n      factory(mod.exports);\n      global.filterScript = mod.exports;\n    }\n  })(undefined, function (exports) {\n    \"use strict\";\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var scriptObj = function scriptObj(str) {\n      var flag = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n      return flag.test(str);\n    };\n    exports.default = scriptObj;\n  });\n});\n\n/***/ }),\n\n/***/ 345:\n/* no static exports found */\n/* all exports used */\n/*!*************************************************************************************************************************************************************!*\\\n  !*** ./~/_babel-loader@6.4.1@babel-loader/lib!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=script&index=0!./src/components/tiezi/WriteComent.vue ***!\n  \\*************************************************************************************************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ../../api/api */ 169), __webpack_require__(/*! ../../utils/filterScript */ 177)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('../../api/api'), require('../../utils/filterScript'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.api, global.filterScript);\n    global.WriteComent = mod.exports;\n  }\n})(this, function (exports, _api, _filterScript) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _api2 = _interopRequireDefault(_api);\n\n  var _filterScript2 = _interopRequireDefault(_filterScript);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  exports.default = {\n    data: function data() {\n      return {\n        isAble: false,\n        feedContent: '',\n        articleId: -1\n      };\n    },\n    mounted: function mounted() {\n      var contentBox = $('#feedback-area');\n      contentBox.focus();\n      var feedBtn = $('#feedback-send');\n      var _this = this;\n      _this.changeBtnBg(_this, contentBox, feedBtn);\n      this.articleId = this.$route.params.id;\n    },\n\n    methods: {\n      sendMsg: function sendMsg() {\n        if ((0, _filterScript2.default)(this.feedContent)) {\n          this.showMsg('内容不能包含奇怪字符!');\n          return;\n        }\n        if (this.feedContent !== null && this.feedContent !== '') {\n          this.commitComment(this.articleId);\n        } else {\n          this.showMsg('请填写评论内容哦');\n        }\n      },\n      commitComment: function commitComment(articleId) {\n        var _this = this;\n        if (articleId !== -1 && articleId !== '') {\n          this.$http.post(_api2.default.COMMENTNEWS, {\n            content: _this.feedContent,\n            article_id: articleId,\n            status: 1\n          }).then(function (res) {\n            if (res.status === 200) {\n              history.back(-1);\n            } else {\n              _this.showMsg(\"评论失败，请重试!\");\n              _this.$store.dispatch('hideLoading');\n            }\n          }, function (err) {\n            _this.showMsg(\"评论失败，请重试!\");\n            _this.$store.dispatch('hideLoading');\n          });\n        }\n      },\n      showMsg: function showMsg(str) {\n        this.$toast({\n          message: str,\n          duration: 2000\n        });\n      },\n      goPrePage: function goPrePage() {\n        window.history.go(-1);\n      },\n      setBackGround: function setBackGround(ele, bg, color, border) {\n        ele.css({\n          'background': bg,\n          'color': color,\n          'border': border\n        });\n      },\n      changeBtnBg: function changeBtnBg(_this, contentBox, feedBtn) {\n        $(document).on('input propertychange', 'textarea', function () {\n          _this.feedContent = contentBox.val();\n          if (_this.feedContent !== 'null' && _this.feedContent.length > 0) {\n            _this.isAble = true;\n            _this.setBackGround(feedBtn, '#20a0ff', '#ffffff', '1px solid #20a0ff');\n          } else {\n            _this.isAble = false;\n            _this.setBackGround(feedBtn, '#ffffff', '#9c9c9c', '1px solid #9c9c9c');\n          }\n        });\n      }\n    }\n  };\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 11)))\n\n/***/ }),\n\n/***/ 425:\n/* no static exports found */\n/* all exports used */\n/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./~/_extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-31a14e41\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/tiezi/WriteComent.vue ***!\n  \\**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 506:\n/* no static exports found */\n/* all exports used */\n/*!*******************************************************************************************************************************************************************************************************!*\\\n  !*** ./~/_vue-loader@12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-31a14e41\"}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/tiezi/WriteComent.vue ***!\n  \\*******************************************************************************************************************************************************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"feedback-layout\"\n  }, [_c('header', {\n    staticClass: \"feedback-header\"\n  }, [_c('a', {\n    staticClass: \"feedback-cancle\",\n    on: {\n      \"click\": function($event) {\n        _vm.goPrePage()\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('h2', {\n    staticClass: \"feedback-title\"\n  }, [_vm._v(\"写评论\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"feedback-send\",\n    attrs: {\n      \"id\": \"feedback-send\",\n      \"disabled\": !_vm.isAble\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.sendMsg()\n      }\n    }\n  }, [_vm._v(\"发送\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"feedback-content-box\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.feedContent),\n      expression: \"feedContent\"\n    }],\n    staticClass: \"feedback-content\",\n    attrs: {\n      \"placeholder\": \"写评论......\",\n      \"name\": \"content\",\n      \"id\": \"feedback-area\",\n      \"cols\": \"10\",\n      \"rows\": \"20\"\n    },\n    domProps: {\n      \"value\": (_vm.feedContent)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.feedContent = $event.target.value\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/29.6149ca885b1ae06c7f6f.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31a14e41\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=styles&index=0!./WriteComent.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=script&index=0!./WriteComent.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31a14e41\\\"}!../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=template&index=0!./WriteComent.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-31a14e41\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tiezi/WriteComent.vue\n// module id = 153\n// module chunks = 29","/**\n * Created by THINK on 2017/5/31.\n */\nexport default {\n    //获取注册验证码的接口\n    GETCODE:'/sendcode/',\n    //注册的接口\n    REG:'/signup/',\n    //登录的接口\n    LOGIN:'/api-token-auth/',\n    //token的校验\n    TOKENVERIFY:'/api-token-verify/',\n    //获取重置密码验证码的接口\n    //参数是mobile password\n    RESETCODE:'/requestPasswordResetBySmsCode/',\n    //重置密码的接口\n    RERESTPASSWORD:'/passwordrest/',\n    //http://192.168.0.200:8080/api1.0/articles/?page=2&page_size=10&type=0&category=en\n    //新闻:?type = 0\n    NEWS:'/api1.0/articles/',\n    //文章:?type = 1\n    ARTICLES:'/api1.0/articles/',\n    //获取分类的Tab标签\n    CATEGORYS:'/api1.0/categorys/',\n    //新闻详情\n    ARTICLESDETAIL:'/api1.0/articles/',\n    //post:参数content,article\n    COMMENTNEWS:'/api1.0/comments/',\n    //收藏新闻,post:参数id\n    COLLECTIONS:'/api1.0/collections/',\n    //新闻阅读数,post:参数post_id\n    NEWSVIEW:'/api1.0/views/',\n    //新闻(帖子)点赞数,post:参数post_id\n    NEWSZAN:'/api1.0/likes/',\n    //POST:reply_id\": 0  0是针对评论的回复 1是针对回复的回复。\n    //reply_id=1&content=hello&comment_id=1&from_uid=1&to_uid=1\n    COMMENTREPLY:'/api1.0/replys/',\n    //获取新闻的评论相关信息:get\n    NEWSCOMMENTINFOS:'/api1.0/articles',\n    //回复的回复\n    REPLYTOREPLY:'/api1.0/replys/',\n    //举报新闻的评论\n    JUBAONEWS:'/api1.0/informs/',\n    //http://192.168.0.200:8080/api1.0/users/4/articles/13/comments/\n    //获取某个人对新闻的评论:方式:get 参数/id/users/id/comments\n    ONECOMMENTS:'/api1.0/articles',\n    //用户信息:get\n    USERINFOS:'/api1.0/profiles/',\n    //上传用户信息\n    USERPLOADSINFOS:'/api1.0/profiles/',\n    //上传用户头像\n    UPLOADAVATORINFOS:'/api1.0/profiles/',\n    //获取tags,get\n    TAGS:'/api1.0/tags/',\n    //http://192.168.0.200:8080/api1.0/users/4/topics/个人中心，我的帖子\n    MYTIEZI:'/api1.0/users/',\n    //广告:get\n    ADS:'/api1.0/ads/',\n    //意见反馈\n    SUGGESTBACK:'/api1.0/suggestions/',\n    //用户评论的接口\n    USERCOMMENTS:'/api1.0/usercomments/',\n    //用户积分\n    USERJIFEN:'/api1.0/credititems/',\n    //新闻的Banner\n    TOPBANNER:'/api1.0/articleranks/',\n    //资料库\n    FILES:'/api1.0/files/',\n    //预览资料(文件):post:参数file_id\n    FILESDETAIL:'/api1.0/filecredits/',\n    //搜索api1.0/search/？q=\n    SEARCH:'api1.0/search/',\n    //按类型去查找\n    SEARCHCATEGORY:'api1.0/search/lists/',\n    //api1.0/users/(?P<uid>[0-9]+)/downloads/  已下载\n    //获取sing信息\n    SIGN:\"/api1.0/signatures/\",\n    //大家都在看\n    AllLook:\"api1.0/articleorders/\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api.js","/**\n * Created by THINK on 2017/7/3.\n */\n/**\n * 正则过滤掉输入的script标签,防止xsr攻击\n * @param str\n */\nlet scriptObj = (str)=>{\n const flag =/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n return flag.test(str);\n}\nexport default scriptObj;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/filterScript.js","<template>\n    <div class=\"feedback-layout\">\n        <header class=\"feedback-header\">\n            <a @click=\"goPrePage()\" class=\"feedback-cancle\">取消</a>\n            <h2 class=\"feedback-title\">写评论</h2>\n            <button  class=\"feedback-send\" id=\"feedback-send\" :disabled=\"!isAble\" @click=\"sendMsg()\">发送</button>\n        </header>\n        <div class=\"feedback-content-box\">\n            <textarea class=\"feedback-content\" placeholder=\"写评论......\" name=\"content\" id=\"feedback-area\" cols=\"10\" rows=\"20\" v-model=\"feedContent\">\n            </textarea>\n        </div>\n    </div>\n</template>\n<script>\n    import Api from '../../api/api';\n    import scriptFilter from '../../utils/filterScript'\n    export default{\n        data(){\n            return {\n                isAble:false,\n                feedContent:'',\n                articleId:-1,\n            }\n        },\n        mounted(){\n            /**\n             * 获得焦点,改变样式\n             */\n            const contentBox = $('#feedback-area');\n            contentBox.focus();\n            const feedBtn = $('#feedback-send');\n            const _this = this;\n            _this.changeBtnBg(_this,contentBox,feedBtn);\n             this.articleId = this.$route.params.id;\n\n        },\n        methods:{\n          /**\n           * 提交数据到服务端\n           * */\n          sendMsg(){\n            if(scriptFilter(this.feedContent)){\n                this.showMsg('内容不能包含奇怪字符!');\n                return;\n            }\n            if(this.feedContent!==null && this.feedContent!==''){\n              this.commitComment(this.articleId);\n            }else{\n              this.showMsg('请填写评论内容哦');\n            }\n          },\n          commitComment(articleId){\n            const _this = this;\n            if(articleId!==-1 && articleId!==''){\n              this.$http.post(Api.COMMENTNEWS,{\n                content:_this.feedContent,\n                article_id:articleId,\n                status:1\n              }).then((res)=>{\n                //评论成功后回到上一个界面\n                if(res.status ===200){\n                  history.back(-1);//返回上一个组件\n                }else{\n                  _this.showMsg(\"评论失败，请重试!\");\n                  _this.$store.dispatch('hideLoading');\n                }\n              },(err)=>{\n                _this.showMsg(\"评论失败，请重试!\");\n                _this.$store.dispatch('hideLoading');\n              });\n            }\n          },\n          showMsg(str){\n            this.$toast({\n              message: str,\n              duration: 2000,\n            });\n          },\n            /**\n             * 返回上一级元素\n             */\n            goPrePage(){\n                window.history.go(-1);\n            },\n            setBackGround(ele,bg,color,border) {\n                ele.css({\n                    'background':bg,\n                    'color':color,\n                    'border':border\n                })\n            },\n            /**\n             * 根据输入内容设置发送按钮的样式\n             * @param _this\n             * @param contentBox:内容dom元素\n             * @param feedBtn:按钮元素\n             */\n            changeBtnBg(_this,contentBox,feedBtn){\n                $(document).on('input propertychange', 'textarea', function() {\n                    //function code\n                    _this.feedContent = contentBox.val();\n                    if(_this.feedContent!=='null' &&_this.feedContent.length>0){\n                        _this.isAble = true;\n                        _this.setBackGround(feedBtn,'#20a0ff','#ffffff','1px solid #20a0ff');\n                    }else{\n                        _this.isAble = false;\n                        _this.setBackGround(feedBtn,'#ffffff','#9c9c9c','1px solid #9c9c9c');\n                    }\n                });\n            }\n        }\n    }\n</script>\n<style scoped>\n    @import \"../../assets/css/feedback.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// WriteComent.vue?035862a0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"feedback-layout\"\n  }, [_c('header', {\n    staticClass: \"feedback-header\"\n  }, [_c('a', {\n    staticClass: \"feedback-cancle\",\n    on: {\n      \"click\": function($event) {\n        _vm.goPrePage()\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('h2', {\n    staticClass: \"feedback-title\"\n  }, [_vm._v(\"写评论\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"feedback-send\",\n    attrs: {\n      \"id\": \"feedback-send\",\n      \"disabled\": !_vm.isAble\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.sendMsg()\n      }\n    }\n  }, [_vm._v(\"发送\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"feedback-content-box\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.feedContent),\n      expression: \"feedContent\"\n    }],\n    staticClass: \"feedback-content\",\n    attrs: {\n      \"placeholder\": \"写评论......\",\n      \"name\": \"content\",\n      \"id\": \"feedback-area\",\n      \"cols\": \"10\",\n      \"rows\": \"20\"\n    },\n    domProps: {\n      \"value\": (_vm.feedContent)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.feedContent = $event.target.value\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-31a14e41\"}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/tiezi/WriteComent.vue\n// module id = 506\n// module chunks = 29"],"sourceRoot":""}